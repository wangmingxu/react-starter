(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{239:function(e,t,n){e.exports=n.p+"client/assets/share_cover.jpg?29fcd9f6aaab7c7d9bbf5071cba02195"},312:function(e,t,n){"use strict";n.r(t);var o={};n.d(o,"toggleAuthStatus",function(){return ne}),n.d(o,"collectErrMsg",function(){return oe});n(778),n(576);var r=n(311),i=n.n(r),a=navigator.userAgent,c=navigator.language.toLowerCase();function s(){return a.indexOf("iPhone")>-1}var u={ua:a,lang:c,isIE:function(){return a.indexOf("Trident")>-1},isOpera:function(){return a.indexOf("Presto")>-1},isWebKit:function(){return a.indexOf("AppleWebKit")>-1},isFireFox:function(){return a.indexOf("Gecko")>-1&&-1==a.indexOf("KHTML")},isMobile:function(){return!!a.match(/AppleWebKit.*Mobile.*/)},isIOS:function(){return!!a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)},isAndroid:function(){return a.indexOf("Android")>-1||a.indexOf("Linux")>-1},isIPhone:s,isIPad:function(){return a.indexOf("iPad")>-1},isWebApp:function(){return-1==a.indexOf("Safari")},isWeiBo:function(){return!!a.match(/Weibo/i)},isWeiXin:function(){return!!a.match(/MicroMessenger/i)},isUC:function(){return!!a.match(/UCBrowser/i)},isQQ:function(){return!!a.match(/QQBrowser/i)},isSafari:function(){return!!a.match(/Safari/i)},isLizhiFM:function(){return null!==a.match(/LizhiFM/i)||void 0!==window.LizhiJSBridge},whichPlatform:function(){return s()?812===screen.height&&375===screen.width?"IPhoneX":"IPhone":screen.width<768?"Android":"Desktop"}},p=n(58),d=n(51),f=n.n(d);function l(e){var t=window.location,n=t.protocol+"//"+t.host+t.pathname+t.search;f()({url:e,params:{currentURL:n}}).then(function(e){var t=e.data;t&&wx.config({debug:!1,appId:t.appid,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","translateVoice","startRecord","stopRecord","onRecordEnd","playVoice","pauseVoice","stopVoice","uploadVoice","downloadVoice","chooseImage","previewImage","uploadImage","downloadImage","getNetworkType","openLocation","getLocation","hideOptionMenu","showOptionMenu","closeWindow","scanQRCode","chooseWXPay","openProductSpecificView","addCard","chooseCard","openCard"]})})}var h,g="base_cityfm_hangzhou_single_dog_",m=g+"wxid",w=g+"wbid",y="//oauthbiz.lizhi.fm/weixin/jsconfig?tag=cityfm",b="//oauthbiz.lizhi.fm/weixin/auth?tag=cityfm",O=n(133),_=n.n(O),v=n(310),j=n.n(v),E=n(780);function M(){l(y),wx.ready(function(){wx.onMenuShareAppMessage(window.shareData),wx.onMenuShareTimeline(window.shareData)})}if(j.a.shim(),_.a.apikey="294a8593da2207207c592dcd7364e84e913b366ca32bd592002dfc068c568f58",_.a.releasestage="production",f.a.interceptors.response.use(function(e){return 0!==e.data.status&&_.a.notifyError(new Error(e.data.msg)),e.data},function(e){return Promise.reject(e)}),i.a.attach(document.body),window.lz=p.a,window.isApp=u.isLizhiFM(),window.isWX=u.isWeiXin(),window.isWeiBo=u.isWeiBo(),window.platform=u.whichPlatform(),document.documentElement.setAttribute("data-platform",window.platform),window.debug=location.search.includes("debug"),window.shareData={url:window.location.href,link:window.location.href,title:"全国单身踢馆歌手大赛",desc:"妈耶！单身汪怎么可以手撕情侣档？画面惨不忍睹……","image-url":n(239),imgUrl:n(239)},window.isApp&&(h="https://h5security.lizhi.fm/jsBridgeConfig/get",window.lz.config({debug:!1,url:h,apiList:["getToken","getSessionUser","gotoLogin","shareUrl","startRecordVoice","stopRecordVoice","uploadRecordVoice","replayRecordVoice","shareImage","saveImage"],eventList:["user:login","recordStateChange"]})),window.isWX){var L=document.createElement("script");L.src="//res.wx.qq.com/open/js/jweixin-1.2.0.js";var P=document.getElementsByTagName("script")[0];P.parentNode.insertBefore(L,P),L.onload=function(){"undefined"==typeof WeixinJSBridge?document.addEventListener("WeixinJSBridgeReady",M,!1):M()}}new MutationObserver(function(e){e.forEach(function(e){if("childList"===e.type){var t=document.documentElement.clientHeight,n=Object(E.a)(document.querySelectorAll(".routerWrapper")).firstElementChild,o=n.clientHeight;if(Math.abs(o-t)>150)return;var r=t/o;n.style["transform-origin"]="0 0",n.style.transform="scaleY("+r+")"}})}).observe(document.getElementById("app"),{childList:!0,subtree:!0}),window._hmt=window._hmt||[],function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?50f7f3f779102291f22b776ad51e5893";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}();var A,S=n(0),k=n.n(S),x=n(10),R=n.n(x),C=n(309),W=n(129),I=n(131),z=n(1),B=n.n(z),T=n(290),U=(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}A(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),D=function(e){function t(t){var n=e.call(this,t)||this;return n.state={mod:null},n}return U(t,e),t.prototype.componentWillMount=function(){this.load(this.props)},t.prototype.componentWillReceiveProps=function(e){e.load!==this.props.load&&this.load(e)},t.prototype.load=function(e){var t=this;this.setState({mod:null}),e.load(function(e){t.setState({mod:e.default?e.default:e})})},t.prototype.render=function(){return this.state.mod?this.props.children(this.state.mod):S.createElement(T.a,{toast:!0,text:"Loading..."})},t.propTypes={load:z.func.isRequired,children:z.func.isRequired},t}(S.Component);var N,V,X=(N={getCity:"/hangzhou/singleDog/getCity",listLuckyDoy:"/activity/listLuckyDoy",trans:"//oauthbiz.lizhi.fm/checkAppTrans"},Object.keys(N).reduce(function(e,t){return e[t]=function(e){return"string"==typeof N[t]?f()({url:N[t],params:e}):f()(Object.assign(N[t],{data:e}))},e},{})),q=n(296),Q=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),F=n(331),J=q(function(e){function t(t){return e.call(this,t)||this}return Q(t,e),t.prototype.componentDidMount=function(){X.getCity({test:1})},t.prototype.render=function(){return S.createElement("div",{className:F.demo},"如需查看demo项目，请切换分支到singleDog分支")},t}(S.Component),F),H=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},K=[{path:"/",component:(V=J,V.displayName||V.name?V:function(e){return k.a.createElement(D,{load:V},function(t){return k.a.createElement(t,H({},e))})}),exact:!0}],G=n(295),Y=n.n(G),Z=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),$=function(e){function t(t){return e.call(this,t)||this}return Z(t,e),t.prototype.componentDidUpdate=function(){window.isWX&&l(y)},t.prototype.render=function(){var e=this.props,t=e.location,n="PUSH"===e.history.action?"left":"right";return k.a.createElement(Y.a,{transitionName:n,transitionEnterTimeout:1e3,transitionLeaveTimeout:1e3,component:k.a.Fragment},k.a.createElement("div",{key:t.pathname,className:"routerWrapper"},k.a.cloneElement(this.props.children,{location:t})))},t}(k.a.Component),ee=n(289),te=n(96);function ne(e){return{type:"toggleAuthStatus",isLogin:e}}function oe(e){return{type:"errMsg",msg:e}}var re,ie=n(88),ae=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ce=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},se=function(e){var t=function(t){function n(e){return t.call(this,e)||this}return ae(n,t),n.prototype.componentDidMount=function(){this.configReady()},n.prototype.configReady=function(){var e=this,t=e.props.cookies;window.isApp?p.a.ready(function(){p.a.getSessionUser().then(function(n){n.id?(t.set("base_cityfm_hangzhou_single_dog_id",n.id),p.a.getToken({needRefresh:!0}).then(function(n){"success"===n.status&&(t.set("base_cityfm_hangzhou_single_dog_token",n.token),e.props.toggleAuthStatus(!0),f.a.interceptors.request.use(function(e){return Object.assign(e,{params:Object.assign(e.params||{},{token:n.token})})}))})):(p.a.on("user:login",function(){window.location.reload()}),p.a.gotoLogin())})}):window.isWX&&!t.get(m)?window.location.href=b+"&cookie_key="+m+"&redirectURL="+encodeURIComponent(window.location.href):window.isWeiBo&&!t.get(w)?window.location.href=b+"&cookie_key="+w+"&redirectURL="+encodeURIComponent(window.location.href):e.props.toggleAuthStatus(!0)},n.prototype.render=function(){return this.props.isLogin?k.a.createElement(e,ce({},this.props)):null},n.propTypes={isLogin:B.a.bool.isRequired,cookies:Object(z.instanceOf)(te.Cookies).isRequired},n}(k.a.Component);return Object(te.withCookies)(Object(W.b)(function(e){return{isLogin:e.Global.isLogin}},function(e){return Object(ie.b)(o,e)})(t))},ue=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),pe=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},de=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},fe=location.hash.length>0?I.b:I.a,le=location.hash.length>0?"":"/hangzhou/singleDog",he=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ue(t,e),t.prototype.render=function(){return k.a.createElement(fe,{basename:le},k.a.createElement(I.c,{render:function(e){return k.a.createElement($,pe({},e),Object(ee.a)(K))}}))},t=de([se],t)}(k.a.Component),ge=n(291),me=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},we={isLogin:"object"==typeof exports,errMsg:[]},ye=function(e,t){switch(void 0===e&&(e=we),t.type){case"toggleAuthStatus":return me({},e,{isLogin:t.isLogin});case"errMsg":return me({},e,{errMsg:e.errMsg.concat([t.msg])});default:return e}},be=Object(ie.c)({Global:ye}),Oe=[Object(ge.createLogger)()],_e="object"==typeof window?window.REDUX_STATE:{},ve=(re=_e,Object(ie.e)(be,re||{},Object(ie.d)(ie.a.apply(void 0,Oe))));!function(e){(0,R.a.hydrate)(k.a.createElement(C.AppContainer,null,k.a.createElement(te.CookiesProvider,null,k.a.createElement(W.a,{store:ve},k.a.createElement(e,null)))),document.getElementById("app"))}(he)},331:function(e,t,n){e.exports={demo:"test__demo--3wukP"}},576:function(e,t,n){}},[[312,0,1]]]);
//# sourceMappingURL=app.js.map?0ba100df00d2df35e5a8